angular.module("Transport",["ngRoute","LocalStorageModule"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(r,e,o,t,n){angular.forEach(n.interceptor,function(e){var o=e.replace(/_[a-z]/g,function(r){return r.split("_")[1].toUpperCase()});o+="Controller",r.when("/"+e,{templateUrl:"templates/"+e+".html",reloadOnSearch:!1,controller:o})}),r.otherwise("/index"),e.defaults.useXDomain=!0,e.defaults.withCredentials=!0,delete e.defaults.headers.common["X-Requested-With"],t.setStorageCookie(.02),e.interceptors.push("tokenInterceptor")}]).run(["appServices",function(r){r.init()}]),angular.module("Transport").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(r,e,o,t,n){return{request:function(r){return r},requestError:function(){},response:function(t){var c=e.defer();return t.config.url.indexOf(".html")>0?t:t.data.respcode==n.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),o.remove("token"),r.path("/signIn").replace(),c.promise):t},responseError:function(r){var o=e.defer();return t.requestError(r.data,r.status,r.headers,r.config),o.promise}}}]),angular.module("Transport").factory("toastServices",function(){return{show:function(){},hide:function(){}}}),angular.module("Transport").factory("errorServices",["$rootScope","$timeout","toastServices",function(r,e,o){return{show:function(){},hide:function(){},autoHide:function(){},requestError:function(r,e,t,n){switch(o.hide(),e){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(e),console.log(r),console.log(t),console.log(n),console.log("onRequestError end")}}}]),angular.module("Transport").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices",function(r,e,o,t,n){var c=function(){},a=function(r,e,o){n.hide(),t.hide(),s(r,e,o)},l=function(){},s=function(){};return{init:function(){r.$on("$routeChangeStart",c),r.$on("$routeChangeSuccess",a),r.$on("$routeChangeError",l),r.go=function(r){o.path(r)},r.back=function(){e.history.back()}}}}]),angular.module("Transport").directive("dribehanceHeader",["$rootScope",function(r){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"="},link:function(e){e.back=function(){r.back()}}}}]),angular.module("Transport").controller("signupController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("signinController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("servicesController",["$scope","errorServices","toastServices","localStorageService","config",function(r){r.services={state:"charge"},r.change=function(e){r.services.state=e}}]),angular.module("Transport").controller("questionController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("privacyController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("ordersController",["$scope","errorServices","toastServices","localStorageService","config",function(r){r.preview_id="",r.preview=function(e){r.preview_id=e},r.hide=function(){r.preview_id=""}}]),angular.module("Transport").controller("orderController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("meInfoController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("infosController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("infoController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("indexController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("forgetController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("createAddressController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("costController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("contactController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("chargeRecordsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("cargosMergeController",["$scope","$location","errorServices","toastServices","localStorageService","config",function(r){r.transport={way:"self",address_type:"business",preview:"hide"}}]),angular.module("Transport").controller("cargosController",["$scope","$location","errorServices","toastServices","localStorageService","config",function(r,e){r.merge=function(){e.path("/cargos_merge")}}]),angular.module("Transport").controller("cargoController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("calculatorController",["$scope","errorServices","toastServices","localStorageService","config",function(r){r.transport={way:"self"}}]),angular.module("Transport").controller("askforpayRecordsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("addressController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("accountController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").controller("aboutController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Transport").constant("config",{url:"http://",imageUrl:"http://",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{},interceptor:["about","account","address","askforpay_records","calculator","cargo","cargos","cargos_merge","charge_records","contact","cost","create_address","forget","index","info","infos","me_info","order","orders","privacy","question","services","signin","signup"]});
//# sourceMappingURL=app.min.js.map
